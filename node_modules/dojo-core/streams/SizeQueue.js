(function (factory) {
    if (typeof module === 'object' && typeof module.exports === 'object') {
        var v = factory(require, exports); if (v !== undefined) module.exports = v;
    }
    else if (typeof define === 'function' && define.amd) {
        define(["require", "exports"], factory);
    }
})(function (require, exports) {
    "use strict";
    /**
     * This class is used internally by {@link ReadableStream} and {@link WritableStream} as a simple queue.
     * Each value in the queue includes a piece of metadata: the size of the value.
     */
    var SizeQueue = (function () {
        function SizeQueue() {
            this._queue = [];
        }
        Object.defineProperty(SizeQueue.prototype, "totalSize", {
            get: function () {
                var totalSize = 0;
                this._queue.forEach(function (pair) {
                    totalSize += pair.size;
                });
                return totalSize;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SizeQueue.prototype, "length", {
            get: function () {
                return this._queue.length;
            },
            enumerable: true,
            configurable: true
        });
        SizeQueue.prototype.empty = function () {
            this._queue = [];
        };
        SizeQueue.prototype.enqueue = function (value, size) {
            this._queue.push({ value: value, size: size });
        };
        SizeQueue.prototype.dequeue = function () {
            var pair = this._queue.shift();
            return pair.value;
        };
        SizeQueue.prototype.peek = function () {
            var pair = this._queue[0];
            return pair.value;
        };
        return SizeQueue;
    }());
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.default = SizeQueue;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2l6ZVF1ZXVlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3N0cmVhbXMvU2l6ZVF1ZXVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztJQUtBOzs7T0FHRztJQUNIO1FBQUE7WUFhUyxXQUFNLEdBQWMsRUFBRSxDQUFDO1FBbUJoQyxDQUFDO1FBL0JBLHNCQUFJLGdDQUFTO2lCQUFiO2dCQUNDLElBQUksU0FBUyxHQUFHLENBQUMsQ0FBQztnQkFDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxJQUFJO29CQUNqQyxTQUFTLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDeEIsQ0FBQyxDQUFDLENBQUM7Z0JBQ0gsTUFBTSxDQUFDLFNBQVMsQ0FBQztZQUNsQixDQUFDOzs7V0FBQTtRQUVELHNCQUFJLDZCQUFNO2lCQUFWO2dCQUNDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUMzQixDQUFDOzs7V0FBQTtRQUlELHlCQUFLLEdBQUw7WUFDQyxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNsQixDQUFDO1FBRUQsMkJBQU8sR0FBUCxVQUFRLEtBQVEsRUFBRSxJQUFZO1lBQzdCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUNoRCxDQUFDO1FBRUQsMkJBQU8sR0FBUDtZQUNDLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDakMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDbkIsQ0FBQztRQUVELHdCQUFJLEdBQUo7WUFDQyxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ25CLENBQUM7UUFDRixnQkFBQztJQUFELENBQUMsQUFoQ0QsSUFnQ0M7SUFoQ0Q7K0JBZ0NDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgUGFpcjxUPiB7XG5cdHZhbHVlOiBUO1xuXHRzaXplOiBudW1iZXI7XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyB1c2VkIGludGVybmFsbHkgYnkge0BsaW5rIFJlYWRhYmxlU3RyZWFtfSBhbmQge0BsaW5rIFdyaXRhYmxlU3RyZWFtfSBhcyBhIHNpbXBsZSBxdWV1ZS5cbiAqIEVhY2ggdmFsdWUgaW4gdGhlIHF1ZXVlIGluY2x1ZGVzIGEgcGllY2Ugb2YgbWV0YWRhdGE6IHRoZSBzaXplIG9mIHRoZSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2l6ZVF1ZXVlPFQ+IHtcblx0Z2V0IHRvdGFsU2l6ZSgpOiBudW1iZXIge1xuXHRcdGxldCB0b3RhbFNpemUgPSAwO1xuXHRcdHRoaXMuX3F1ZXVlLmZvckVhY2goZnVuY3Rpb24gKHBhaXIpIHtcblx0XHRcdHRvdGFsU2l6ZSArPSBwYWlyLnNpemU7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHRvdGFsU2l6ZTtcblx0fVxuXG5cdGdldCBsZW5ndGgoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fcXVldWUubGVuZ3RoO1xuXHR9XG5cblx0cHJpdmF0ZSBfcXVldWU6IFBhaXI8VD5bXSA9IFtdO1xuXG5cdGVtcHR5KCkge1xuXHRcdHRoaXMuX3F1ZXVlID0gW107XG5cdH1cblxuXHRlbnF1ZXVlKHZhbHVlOiBULCBzaXplOiBudW1iZXIpOiB2b2lkIHtcblx0XHR0aGlzLl9xdWV1ZS5wdXNoKHsgdmFsdWU6IHZhbHVlLCBzaXplOiBzaXplIH0pO1xuXHR9XG5cblx0ZGVxdWV1ZSgpOiBUIHtcblx0XHRjb25zdCBwYWlyID0gdGhpcy5fcXVldWUuc2hpZnQoKTtcblx0XHRyZXR1cm4gcGFpci52YWx1ZTtcblx0fVxuXG5cdHBlZWsoKTogVCB7XG5cdFx0Y29uc3QgcGFpciA9IHRoaXMuX3F1ZXVlWzBdO1xuXHRcdHJldHVybiBwYWlyLnZhbHVlO1xuXHR9XG59XG4iXX0=